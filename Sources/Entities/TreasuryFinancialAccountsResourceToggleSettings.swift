// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation

/// Toggle settings for enabling/disabling a feature
public struct TreasuryFinancialAccountsResourceToggleSettings: Codable {
    /// Whether the FinancialAccount should have the Feature.
    public var isRequested: Bool
    /// Whether the Feature is operational.
    public var status: Status
    /// Additional details; includes at least one entry when the status is not `active`.
    public var statusDetails: [TreasuryFinancialAccountsResourceTogglesSettingStatusDetails]

    /// Whether the Feature is operational.
    public enum Status: String, Codable, CaseIterable {
        case active
        case pending
        case restricted
    }

    public init(isRequested: Bool, status: Status, statusDetails: [TreasuryFinancialAccountsResourceTogglesSettingStatusDetails]) {
        self.isRequested = isRequested
        self.status = status
        self.statusDetails = statusDetails
    }

    public init(from decoder: Decoder) throws {
        let values = try decoder.container(keyedBy: StringCodingKey.self)
        self.isRequested = try values.decode(Bool.self, forKey: "requested")
        self.status = try values.decode(Status.self, forKey: "status")
        self.statusDetails = try values.decode([TreasuryFinancialAccountsResourceTogglesSettingStatusDetails].self, forKey: "status_details")
    }

    public func encode(to encoder: Encoder) throws {
        var values = encoder.container(keyedBy: StringCodingKey.self)
        try values.encode(isRequested, forKey: "requested")
        try values.encode(status, forKey: "status")
        try values.encode(statusDetails, forKey: "status_details")
    }
}
